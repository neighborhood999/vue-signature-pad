!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("signature_pad"),require("merge-images")):"function"==typeof define&&define.amd?define(["signature_pad","merge-images"],t):e["vue-signature-pad"]=t(e.SignaturePad,e.mergeImages)}(this,function(e,t){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var a=["image/png","image/jpeg","image/svg+xml"],i={minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7},n=function(e){return JSON.parse(JSON.stringify(e))},s={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",x:0,y:0},r={name:"VueSignaturePad",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},customStyle:{type:Object},saveType:{type:String,default:"image/png"},options:{type:Object,default:function(){return{}}},images:{type:Array,default:function(){return[]}}},data:function(){return{signaturePad:{},cacheImages:[],signatureData:s}},mounted:function(){var t=this.options,a=this.$refs.signaturePadCanvas,n=new e(a,Object.assign({},i,t));this.signaturePad=n,window.addEventListener("resize",this.resizeCanvas.bind(this,a),!1),this.resizeCanvas(a)},methods:{resizeCanvas:function(e){var t=Math.max(window.devicePixelRatio||1,1);e.width=e.offsetWidth*t,e.height=e.offsetHeight*t,e.getContext("2d").scale(t,t),this.signaturePad.clear(),this.signatureData=s},saveSignature:function(){var e,t=this.signaturePad,i=this.saveType,n={isEmpty:!1,data:void 0};if(e=i,!a.includes(e))throw new Error("Image type is incorrect!");return t.isEmpty()?Object.assign({},n,{isEmpty:!0}):(this.signatureData=t.toDataURL(i),Object.assign({},n,{data:this.signatureData}))},undoSignature:function(){var e=this.signaturePad,t=e.toData();if(t)return e.fromData(t.slice(0,-1))},mergeImageAndSignature:function(e){return this.signatureData=e,t(this.images.concat(this.cacheImages,[this.signatureData]))},addImages:function(e){return void 0===e&&(e=[]),this.cacheImages=this.cacheImages.concat(e),t(this.images.concat(this.cacheImages,[this.signatureData]))},lockSignaturePad:function(){return this.signaturePad.off()},openSignaturePad:function(){return this.signaturePad.on()},getPropImagesAndCacheImages:function(){return this.propsImagesAndCustomImages},clearCacheImages:function(){this.cacheImages=[]}},computed:{propsImagesAndCustomImages:function(){var e=n(this.images),t=n(this.cacheImages);return e.concat(t)}},render:function(e){var t=this.width,a=this.height,i=this.customStyle;return e("div",{style:Object.assign({},{width:t,height:a},i)},[e("canvas",{style:{width:"100%",height:"100%"},ref:"signaturePadCanvas"})])},install:function(e){return e.component(r.name,r)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),r});
