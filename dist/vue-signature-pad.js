!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("signature_pad"),require("merge-images")):"function"==typeof define&&define.amd?define(["signature_pad","merge-images"],e):t["vue-signature-pad"]=e(t.SignaturePad,t.mergeImages)}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var a=["image/png","image/jpeg","image/svg+xml"],i={minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7},n=function(t){return JSON.parse(JSON.stringify(t))},s={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",x:0,y:0},r={name:"VueSignaturePad",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},customStyle:{type:Object},saveType:{type:String,default:"image/png"},options:{type:Object,default:function(){return{}}},images:{type:Array,default:function(){return[]}}},data:function(){return{signaturePad:{},cacheImages:[],signatureData:s}},mounted:function(){var e=this.options,a=this.$refs.signaturePadCanvas,n=new t(a,Object.assign({},i,e));this.signaturePad=n,window.addEventListener("resize",this.resizeCanvas.bind(this,a),!1),this.resizeCanvas(a)},methods:{resizeCanvas:function(t){var e=this.signaturePad.toData(),a=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*a,t.height=t.offsetHeight*a,t.getContext("2d").scale(a,a),this.signaturePad.clear(),this.signatureData=s,this.signaturePad.fromData(e)},toData:function(){return this.signaturePad.toData()},saveSignature:function(){var t,e=this.signaturePad,i=this.saveType,n={isEmpty:!1,data:void 0};if(t=i,!a.includes(t))throw new Error("Image type is incorrect!");return e.isEmpty()?Object.assign({},n,{isEmpty:!0}):(this.signatureData=e.toDataURL(i),Object.assign({},n,{data:this.signatureData}))},undoSignature:function(){var t=this.signaturePad,e=t.toData();if(e)return t.fromData(e.slice(0,-1))},mergeImageAndSignature:function(t){return this.signatureData=t,e(this.images.concat(this.cacheImages,[this.signatureData]))},addImages:function(t){return void 0===t&&(t=[]),this.cacheImages=this.cacheImages.concat(t),e(this.images.concat(this.cacheImages,[this.signatureData]))},fromDataURL:function(t){return this.signaturePad.fromDataURL(t)},lockSignaturePad:function(){return this.signaturePad.off()},openSignaturePad:function(){return this.signaturePad.on()},isEmpty:function(){return this.signaturePad.isEmpty()},getPropImagesAndCacheImages:function(){return this.propsImagesAndCustomImages},clearCacheImages:function(){return this.cacheImages=[],this.cacheImages},clearSignature:function(){return this.signaturePad.clear()}},computed:{propsImagesAndCustomImages:function(){var t=n(this.images),e=n(this.cacheImages);return t.concat(e)}},render:function(t){var e=this.width,a=this.height,i=this.customStyle;return t("div",{style:Object.assign({},{width:e,height:a},i)},[t("canvas",{style:{width:"100%",height:"100%"},ref:"signaturePadCanvas"})])},install:function(t){return t.component(r.name,r)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),r});
